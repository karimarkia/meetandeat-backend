(function(e){function t(t){for(var r,i,o=t[0],l=t[1],c=t[2],d=0,p=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);u&&u(t);while(p.length)p.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var e,t=0;t<n.length;t++){for(var s=n[t],r=!0,o=1;o<s.length;o++){var l=s[o];0!==a[l]&&(r=!1)}r&&(n.splice(t--,1),e=i(i.s=s[0]))}return e}var r={},a={app:0},n=[];function i(t){if(r[t])return r[t].exports;var s=r[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=r,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(s,r,function(t){return e[t]}.bind(null,r));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;n.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"0033":function(e,t,s){e.exports=s.p+"img/customer-3.551bd875.jpg"},"0512":function(e,t,s){e.exports=s.p+"img/customer-2.9b6c894a.jpg"},1:function(e,t){},"135a":function(e,t,s){"use strict";var r=s("5426"),a=s.n(r);a.a},1826:function(e,t,s){"use strict";var r=s("286b"),a=s.n(r);a.a},"286b":function(e,t,s){},"485e":function(e,t,s){e.exports=s.p+"img/customer-1.b56b4351.jpg"},5298:function(e,t,s){},5426:function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var r=s("2b0e"),a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",["/"===e.header?s("AppHeader",{on:{toggleRegister:e.toggleRegister,toggleLogIn:e.toggleLogIn}}):s("NavHeader",{on:{toggleRegister:e.toggleRegister,toggleLogIn:e.toggleLogIn}}),s("router-view",{staticClass:"page-body"}),s("Register-module",{class:{active:e.isActive},on:{toggleRegister:e.toggleRegister}}),s("LogIn",{class:{active:e.isLogIn},on:{toggleLogIn:e.toggleLogIn}}),s("Footer")],1)},n=[],i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("nav",{staticClass:"sec-nav"},[r("div",{staticClass:"row-sec"},[r("router-link",{attrs:{to:"/"}},[r("img",{staticClass:"logo-black-sec",attrs:{src:s("7c04"),alt:"Omnifood logo"}})]),r("i",{staticClass:"fa fa-bars",class:{openMenu:e.openMenu},attrs:{id:"menu-btn"},on:{click:e.getOpenMenu}}),r("div",{staticClass:"screen",class:{openMenu:e.openMenu},on:{click:e.getOpenMenu}}),r("ul",{staticClass:"main-nav-sec"},[r("li",{on:{click:e.getOpenMenu}},[r("router-link",{staticClass:"route-nav",attrs:{to:"/"}},[e._v("Home")])],1),r("li",{on:{click:e.getOpenMenu}},[r("router-link",{staticClass:"route-nav",attrs:{to:"/about"}},[e._v("About")])],1),r("li",{on:{click:e.getOpenMenu}},[r("router-link",{staticClass:"route-nav",attrs:{to:"/add"}},[e._v("HOST A MEAL")])],1),e.user?r("li",{staticClass:"pointer",on:{click:e.doLogout}},[r("a",[e._v("LOGOUT")])]):r("li",{staticClass:"pointer",on:{click:e.logIn}},[r("a",[e._v("LOGIN")])]),e.user?r("li",[r("router-link",{attrs:{to:"/user/"+e.user._id}},[r("el-avatar",{attrs:{title:"My Account",size:40,src:e.user.imgUrl}})],1)],1):r("li",{staticClass:"pointer",on:{click:e.SignUp}},[r("a",[e._v("SIGNUP")])])])],1)])},o=[],l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"register-container"},[s("button",{staticClass:"exit-btn",on:{click:e.toggleRegister}},[e._v("X")]),s("h5",{staticClass:"errorMsg"},[e._v(e._s(e.msg))]),s("form",{staticClass:"secondery-reg-container"},[s("span",[e._v("Full Name*")]),s("el-input",{attrs:{type:"text"},model:{value:e.signupCred.fullname,callback:function(t){e.$set(e.signupCred,"fullname",t)},expression:"signupCred.fullname"}}),s("span",[e._v("Country*")]),s("el-input",{attrs:{type:"text"},model:{value:e.signupCred.location.country,callback:function(t){e.$set(e.signupCred.location,"country",t)},expression:"signupCred.location.country"}}),s("span",[e._v("City*")]),s("el-input",{attrs:{type:"text"},model:{value:e.signupCred.location.city,callback:function(t){e.$set(e.signupCred.location,"city",t)},expression:"signupCred.location.city"}}),s("span",[e._v("Email*")]),s("el-input",{attrs:{type:"email"},model:{value:e.signupCred.email,callback:function(t){e.$set(e.signupCred,"email",t)},expression:"signupCred.email"}}),s("div",{staticClass:"mini-container flex align-center"},[s("span",[e._v("Gender*")]),s("el-select",{attrs:{placeholder:"Select"},model:{value:e.signupCred.gender,callback:function(t){e.$set(e.signupCred,"gender",t)},expression:"signupCred.gender"}},e._l(e.options,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),s("span",[e._v("Birthday*")]),s("el-date-picker",{attrs:{"value-format":"timestamp",type:"datetime"},model:{value:e.signupCred.birthDay,callback:function(t){e.$set(e.signupCred,"birthDay",t)},expression:"signupCred.birthDay"}})],1),s("span",[e._v("User Name*")]),s("el-input",{attrs:{type:"text"},model:{value:e.signupCred.username,callback:function(t){e.$set(e.signupCred,"username",t)},expression:"signupCred.username"}}),s("span",[e._v("Password*")]),s("el-input",{attrs:{placeholder:"Please input password","show-password":""},model:{value:e.signupCred.password,callback:function(t){e.$set(e.signupCred,"password",t)},expression:"signupCred.password"}}),s("span",[e._v("Reapet Password*")]),s("el-input",{attrs:{placeholder:"Please input password","show-password":""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),s("span",[e._v("add img")]),s("input",{attrs:{type:"file"},on:{change:e.uploadImg}}),s("el-button",{staticClass:"loginBtn",attrs:{type:"success"},on:{click:e.doSignup}},[e._v("SingUp")])],1)])},c=[];s("d3b7");function u(e){console.log("ffgtefh",e);var t="artyompogosov",s="xqvurmk0",r="https://api.cloudinary.com/v1_1/".concat(t,"/image/upload"),a=new FormData;return a.append("file",e.target.files[0]),a.append("upload_preset",s),fetch(r,{method:"POST",body:a}).then((function(e){return e.json()})).then((function(e){return console.log(e),e})).catch((function(e){return console.error(e)}))}var d={uploadImg:u},p={data:function(){return{msg:null,signupCred:{location:{country:null,city:null}},password:null,options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"}]}},methods:{toggleRegister:function(){this.$emit("toggleRegister"),this.msg=null,this.signupCred={location:{country:null,city:null}}},uploadImg:function(){var e=this;d.uploadImg(event).then((function(t){return e.signupCred.imgUrl=t.url}))},doSignup:function(){var e=this.signupCred;if(!e.email||!e.password||!e.username)return this.msg="Please fill up the form";this.$store.dispatch({type:"signup",userCred:e}).then((function(){return console.log("user added")})),this.toggleRegister(),this.msg=null,this.signupCred={location:{country:null,city:null}}}}},m=p,h=(s("1826"),s("2877")),v=Object(h["a"])(m,l,c,!1,null,"803f4ab4",null),g=v.exports,f={components:{RegisterModule:g},data:function(){return{openMenu:!1}},methods:{SignUp:function(){this.openMenu=!this.openMenu,this.$emit("toggleRegister")},logIn:function(){this.openMenu=!this.openMenu,this.$emit("toggleLogIn")},doLogout:function(){this.openMenu=!this.openMenu,this.$store.dispatch({type:"logout"})},getOpenMenu:function(){this.openMenu=!this.openMenu}},computed:{user:function(){return this.$store.getters.loggedinUser}}},_=f,w=Object(h["a"])(_,i,o,!1,null,null,null),y=w.exports,C=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("header",[r("nav",{class:{sticky:e.scrolled},on:{on:e.handleScroll}},[r("div",{staticClass:"row"},[r("router-link",{attrs:{to:"/"}},[r("img",{staticClass:"logo",attrs:{src:s("7c04"),alt:"meetandeat logo"}})]),r("i",{staticClass:"fa fa-bars",class:{openMenu:e.openMenu},attrs:{id:"menu-btn"},on:{click:e.getOpenMenu}}),r("div",{staticClass:"screen",class:{openMenu:e.openMenu},on:{click:e.getOpenMenu}}),r("ul",{staticClass:"main-nav"},[r("li",{on:{click:e.getOpenMenu}},[r("router-link",{staticClass:"route-nav",attrs:{to:"/"}},[e._v("Home")])],1),r("li",{on:{click:e.getOpenMenu}},[r("router-link",{staticClass:"route-nav",attrs:{to:"/about"}},[e._v("About")])],1),r("li",{on:{click:e.getOpenMenu}},[r("router-link",{staticClass:"route-nav",attrs:{to:"/add"}},[e._v("HOST A MEAL")])],1),e.user?r("li",{staticClass:"pointer",on:{click:e.doLogout}},[r("a",[e._v("LOGOUT")])]):r("li",{staticClass:"pointer",on:{click:e.logIn}},[r("a",[e._v("LOGIN")])]),e.user?r("li",[r("router-link",{attrs:{to:"/user/"+e.user._id}},[r("el-avatar",{attrs:{size:40,src:e.user.imgUrl}})],1)],1):r("li",{staticClass:"pointer",on:{click:e.SignUp}},[r("a",[e._v("SIGNUP")])])])],1)])])},b=[],M=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"register-container"},[s("form",{staticClass:"secondery-reg-container"},[s("button",{staticClass:"exitLogIn-btn",on:{click:e.toggleLogIn}},[e._v("X")]),s("span",[e._v("User Name*")]),s("el-input",{attrs:{type:"text"},model:{value:e.loginUser.username,callback:function(t){e.$set(e.loginUser,"username",t)},expression:"loginUser.username"}}),s("span",[e._v("Password*")]),s("el-input",{attrs:{placeholder:"Please input password","show-password":""},model:{value:e.loginUser.password,callback:function(t){e.$set(e.loginUser,"password",t)},expression:"loginUser.password"}}),s("el-button",{staticClass:"loginBtn",attrs:{type:"success"},on:{click:e.doLogin}},[e._v("LogIn")])],1)])},x=[],k=(s("96cf"),{data:function(){return{loginUser:{username:null,password:null}}},methods:{toggleLogIn:function(){this.$emit("toggleLogIn")},doLogin:function(){var e;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.loginUser,e.username&&e.password){t.next=3;break}return t.abrupt("return",this.msg="Please enter user/password");case 3:return t.next=5,regeneratorRuntime.awrap(this.$store.dispatch({type:"login",userCred:e}));case 5:this.toggleLogIn(),this.loginUser={};case 7:case"end":return t.stop()}}),null,this)}}}),I=k,O=Object(h["a"])(I,M,x,!1,null,null,null),$=O.exports,R={components:{RegisterModule:g,LogIn:$},data:function(){return{openMenu:!1,limitPosition:400,scrolled:!1,lastPosition:500}},methods:{SignUp:function(){this.openMenu=!this.openMenu,this.$emit("toggleRegister")},logIn:function(){this.openMenu=!this.openMenu,this.$emit("toggleLogIn")},doLogout:function(){this.openMenu=!this.openMenu,this.$store.dispatch({type:"logout"})},getOpenMenu:function(){this.openMenu=!this.openMenu},handleScroll:function(){this.lastPosition<window.scrollY&&this.limitPosition<window.scrollY&&(this.scrolled=!0),this.lastPosition>=window.scrollY&&(this.scrolled=!1),this.scrolled=window.scrollY>250}},computed:{user:function(){return this.$store.getters.loggedinUser}},created:function(){window.addEventListener("scroll",this.handleScroll)},destroyed:function(){window.removeEventListener("scroll",this.handleScroll)}},S=R,D=Object(h["a"])(S,C,b,!1,null,null,null),U=D.exports,E=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"footer"},[r("p",[e._v("Copyright © 2019 by IDK. All rights reserved.")]),r("img",{attrs:{src:s("f19c")}}),r("social-sharing",{staticClass:"social-icons",attrs:{url:"https://vuejs.org/",title:"The Progressive JavaScript Framework",description:"Intuitive, Fast and Composable MVVM for building interactive interfaces.",quote:"Vue is a progressive framework for building user interfaces.",hashtags:"vuejs,javascript,framework","twitter-user":"vuejs"},inlineTemplate:{render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("network",{attrs:{network:"facebook"}},[s("i",{staticClass:"fa fa-facebook-square"})]),s("network",{attrs:{network:"googleplus"}},[s("i",{staticClass:"fa fa-google-plus-square"})]),s("network",{attrs:{network:"whatsapp"}},[s("i",{staticClass:"fa fa-whatsapp"})])],1)},staticRenderFns:[]}})],1)},j=[],T=(s("760c"),{}),P=Object(h["a"])(T,E,j,!1,null,null,null),A=P.exports,L={components:{Footer:A,NavHeader:y,AppHeader:U,RegisterModule:g,LogIn:$},data:function(){return{isActive:!1,isLogIn:!1,isLogOut:!0}},methods:{toggleRegister:function(){this.isActive=!this.isActive},toggleLogIn:function(){this.isLogIn=!this.isLogIn}},created:function(){this.$store.dispatch("loadMeals")},computed:{header:function(){return this.$route.path},meals:function(){return this.$store.getters.mealsToShow}}},B=L,G=Object(h["a"])(B,a,n,!1,null,null,null),z=G.exports,F=s("9483");Object(F["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var N=s("8c4f"),H=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",[s("div",{staticClass:"main-img"}),s("Main-filter"),s("div",{staticClass:"sec-section"},[s("h1",[e._v("Places to Eat&Meet people around the world")]),s("div",{staticClass:"cards-container-sec"},e._l(e.meals,(function(t,r){return r<=3?s("MealPreview",{key:t._id,staticClass:"sec",attrs:{meal:t}}):e._e()})),1)]),s("div",{staticClass:"see-all-meals"},[s("router-link",{attrs:{to:"/meal"}},[e._v(" Show all meals "),s("i",{staticClass:"fa fa-chevron-right"})])],1),e._m(0),s("div",{staticClass:"places-to-show"},[s("h2",[e._v("our most popular cities")]),s("PlacesCmp")],1)],1)},J=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"section-testimonials"},[r("h2",[e._v("Why they loved it")]),r("div",{staticClass:"row row2"},[r("div",{staticClass:"col span-1-of-3"},[r("blockquote",[e._v(" Alexandra was an excellent host. We were lucky in that it was only my husband and I on our hike so she catered the walk based on our preferences. The location was secluded and just perfect for a great view of the sunset over Old Town. "),r("cite",[r("img",{attrs:{src:s("485e"),alt:"Customer 1 photo"}}),e._v("Alberto Duncan ")])])]),r("div",{staticClass:"col span-1-of-3"},[r("blockquote",[e._v(" We spent a couple of weeks bouncing around Italy and, by far, our dinner with Debora and Fiamma was the highlight! The dinner party was like nothing we'd experienced, Debora and Fiamma provided a fantastic meal and an atmosphere of openness and community that encouraged discussion amongst the travelers gathered. "),r("cite",[r("img",{attrs:{src:s("0512"),alt:"Customer 2 photo"}}),e._v("Joana Silva ")])])]),r("div",{staticClass:"col span-1-of-3"},[r("blockquote",[e._v(" Can’t say enough about how amazing our experience at Laura’s was!!! The food, the atmosphere, the view, the drinks and most importantly, the people! Laura and her friends made our time in Barcelona a million times better and we HIGHLY recommend her to everyone. "),r("cite",[r("img",{attrs:{src:s("0033"),alt:"Customer 3 photo"}}),e._v("Milton Chapman ")])])])])])}],q=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",[s("form",{staticClass:"main-filter-home flex align-center space-around",on:{submit:function(t){return t.preventDefault(),e.getFilter(t)}}},[s("h1",[e._v("Book unforgettable culinary experiences")]),s("div",[s("span",{staticClass:"where"},[e._v("WHERE")]),s("el-input",{staticClass:"searchCity",attrs:{type:"text",placeholder:"Anywhere..."},model:{value:e.filterBy,callback:function(t){e.filterBy=t},expression:"filterBy"}})],1),s("div",[s("router-link",{attrs:{to:"/meal"}},[s("el-button",{staticClass:"main-search",attrs:{type:"success"}},[e._v("Search")])],1)],1)])])},W=[],Z={data:function(){return{filterBy:""}},methods:{getFilter:function(){this.$store.commit("setMainFilter",this.filterBy),this.$router.push("/meal")}}},Y=Z,V=Object(h["a"])(Y,q,W,!1,null,null,null),Q=V.exports,X=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.meal?s("section",{staticClass:"meal-card"},[s("router-link",{staticClass:"routerToDetails",attrs:{to:"/details/"+e.meal._id}},[e.meal.imgUrl?s("img",{staticClass:"img-card img-card2 ratio-16-9",attrs:{src:e.meal.imgUrl[0]}}):e._e(),s("div",{staticClass:"cardTitle"},[s("h4",[e._v(" Dinner in "+e._s(e.meal.location.city)+" "),s("span",[e._v(e._s(e.mealDate))])]),s("h4",[s("i",{staticClass:"fa fa-star"}),e._v(" "+e._s(e.meal.rate)+" ")])]),s("div",{staticClass:"test"},[s("h4",[e._v(e._s(e.meal.title))])]),s("span",{staticClass:"price"},[e._v(" "+e._s(e.meal.price)+"$ "),s("span",[e._v("Per guest")])])])],1):e._e()},K=[],ee=(s("0d03"),{props:["meal"],methods:{removeMeal:function(e){this.$store.dispatch({type:"removeMeal",mealId:e})}},computed:{editURL:function(){return"/edit/".concat(this.meal._id)},mealDate:function(){var e=new Date(+this.meal.atDate)+"";return e=e.substring(3,10),e}}}),te=ee,se=Object(h["a"])(te,X,K,!1,null,null,null),re=se.exports,ae=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"places"},e._l(e.places,(function(t,r){return s("div",{key:r,staticClass:"places-render"},[s("img",{attrs:{src:t.imgUrl}}),s("h1",[e._v(e._s(t.title))]),s("h4",[e._v(e._s(t.desc))])])})),0)},ne=[],ie={data:function(){return{places:[{title:"London",imgUrl:"https://res.cloudinary.com/dcugyfvrr/image/upload/v1575452706/samples/55425108_re2m0j.jpg",desc:"Get a taste of the unique culinary scene in London"},{title:"New York",imgUrl:"https://res.cloudinary.com/dcugyfvrr/image/upload/v1575452708/samples/GettyImages-538096543_medium_onb788.jpg",desc:"Discover authentic French cuisine in the City of Lights"},{title:"Paris",imgUrl:"https://res.cloudinary.com/dcugyfvrr/image/upload/v1575452704/samples/eiffel-tower-in-paris-151-medium_d0s2td.jpg",desc:"Discover authentic French cuisine in the City of Lights"},{title:"Rome",imgUrl:"https://res.cloudinary.com/dcugyfvrr/image/upload/v1575452707/samples/HERO_UltimateRome_Hero_shutterstock789412159_uylfet.jpg",desc:"Roman dining experiences that are more than just pasta"}]}}},oe=ie,le=Object(h["a"])(oe,ae,ne,!1,null,null,null),ce=le.exports,ue={name:"home",computed:{meals:function(){return this.$store.getters.mealsToShow}},components:{MainFilter:Q,MealPreview:re,PlacesCmp:ce}},de=ue,pe=Object(h["a"])(de,H,J,!1,null,null,null),me=pe.exports,he=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"meal-app"},[s("h2",[e._v("Find unique food experiences with hand-selected hosts")]),s("p",[e._v("Book now before they sell out!")]),s("MealFilter"),s("div",{staticClass:"sescrt"}),s("MealList",{attrs:{meals:e.meals}})],1)},ve=[],ge=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"cards-container"},e._l(e.meals,(function(e){return s("MealPreview",{key:e._id,attrs:{meal:e}})})),1)},fe=[],_e={name:"meals",props:["meals"],components:{MealPreview:re}},we=_e,ye=Object(h["a"])(we,ge,fe,!1,null,null,null),Ce=ye.exports,be=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("form",{staticClass:"filter-container",on:{submit:function(t){return t.preventDefault(),e.searchMeals(t)}}},[s("div",{staticClass:"searchMeals filter-secodery"},[s("el-input",{attrs:{placeholder:"Search"},on:{input:e.searchMeals},model:{value:e.filterBy.searchStr,callback:function(t){e.$set(e.filterBy,"searchStr",t)},expression:"filterBy.searchStr"}}),s("div",{class:{modal:e.isShowModal,displayNon:!e.isShowModal}},[s("div",{staticClass:"block"},[s("el-slider",{attrs:{range:"",marks:e.marks},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1),s("div",{staticClass:"modalBtn flex"},[s("button",{staticClass:"pricerange sortPrice",on:{click:e.ClosePriceRange}},[e._v("Close")]),s("button",{staticClass:"pricerange sortPrice",on:{click:e.getFiltredByPrice}},[e._v("Save")])])])],1),s("el-select",{attrs:{multiple:"","collapse-tags":"",placeholder:"Select"},on:{change:e.searchMeals},model:{value:e.filterBy.mealType,callback:function(t){e.$set(e.filterBy,"mealType",t)},expression:"filterBy.mealType"}},e._l(e.options,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),s("div",{staticClass:"filter-secodery"},[s("button",{staticClass:"sortPrice",on:{click:e.priceRange}},[e._v("Price")])])],1)},Me=[],xe=(s("a4d3"),s("4de4"),s("4160"),s("e439"),s("dbb4"),s("b64b"),s("159b"),s("2fa7"));function ke(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function Ie(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(s),!0).forEach((function(t){Object(xe["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ke(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var Oe={name:"MealFilter",data:function(){return{value1:"",isShowModal:!1,value:[0,100],marks:{20:"20$",50:"50$",70:"70$",90:"90$"},filterBy:{searchStr:"",mealType:[],priceRange:[0,100]},options:[{value:"Asian",label:"Asian"},{value:"Italian",label:"Italian"},{value:"BBQ",label:"BBQ"},{value:"Vegitarian",label:"Vegitarian"},{value:"American",label:"American"},{value:"Other",label:"Other"}]}},methods:{priceRange:function(){this.isShowModal=!this.isShowModal},ClosePriceRange:function(){this.isShowModal=!this.isShowModal,this.value=[0,100]},searchMeals:function(){this.$store.commit("setMealsFilter",Ie({},this.filterBy))},getFiltredByPrice:function(e){this.isShowModal=!this.isShowModal,this.filterBy.priceRange=this.value}}},$e=Oe,Re=Object(h["a"])($e,be,Me,!1,null,null,null),Se=Re.exports,De={components:{MealList:Ce,MealFilter:Se},created:function(){this.$store.dispatch("loadMeals")},computed:{meals:function(){return this.$store.getters.mealsToShow}}},Ue=De,Ee=Object(h["a"])(Ue,he,ve,!1,null,null,null),je=Ee.exports,Te=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.meal?s("section",[s("div",{staticClass:"detailsPage flex"},[s("div",{class:{bg:e.isShowModal}}),s("section",{staticClass:"mealDetails flex"},[s("h1",[e._v(e._s(e.meal.title))]),s("h3",[e._v(e._s(e.meal.location.city)+", "+e._s(e.meal.location.country))])]),s("section",{staticClass:"hostReview flex"},[s("i",{staticClass:"fa fa-star"}),s("span",[e._v(e._s(e.meal.rate)+"/5")])]),s("div",{staticClass:"imgs-gallery",on:{click:e.getImgGallery}},e._l(e.meal.imgUrl,(function(e,t){return s("img",{key:t,staticClass:"imgDetails",attrs:{"data-i":t,src:e}})})),0),e._m(0),s("section",{staticClass:"flex mainDetails"},[s("div",{staticClass:"description"},[s("section",{staticClass:"moreMealDetails flex"},[s("h4",[s("i",{staticClass:"fa fa-clock-o"}),e._v(" "+e._s(e.dinnerTime)+" ")]),e._l(e.meal.tags,(function(t,r){return s("h4",{key:r},[s("i",{staticClass:"fa fa-circle"}),e._v(" "+e._s(t)+" ")])})),s("h4",[s("i",{staticClass:"fa fa-users"}),e._v(" 2 - "+e._s(e.meal.maxUsers)+" ")])],2),s("div",{class:{modalImage:e.isShowGallery,displayNon:!e.isShowGallery}},[s("div",{staticClass:"block"},[s("el-carousel",{attrs:{interval:4e3,type:"card",height:"400px"}},e._l(e.meal.imgUrl,(function(e,t){return s("el-carousel-item",{key:t},[s("img",{staticClass:"imgtest",attrs:{"data-i":t,src:e}})])})),1)],1),s("div",{staticClass:"modalBtn flex"},[s("button",{staticClass:"pricerange sortPrice",on:{click:e.getImgGallery}},[e._v("Close")])])]),s("div",{class:{modalOrder:e.isShowModal,displayNon:!e.isShowModal}},[s("div",{staticClass:"join-modal"},[s("h2",[e._v("Thank you for joining!!!")]),s("h2",[e._v("Your order number: 143562")]),s("button",{staticClass:"pricerange sortPrice",on:{click:e.closeOrder}},[e._v("Close")])])]),s("div",{class:{modalOrder:e.isLogOut,displayNon:!e.isLogOut}},[s("div",{staticClass:"err-modal"},[s("h2",[e._v("Sorry Please Login to join the meal!!!")]),s("button",{staticClass:"pricerange sortPrice",on:{click:e.closeError}},[e._v("Close")])])]),s("h3",[e._v("A word about the experience")]),s("p",[e._v(e._s(e.meal.description))]),s("p",[e._v(e._s(e.meal.ownerId.about))]),s("h5",{staticClass:"ownerName"},[e._v(e._s(e.meal.ownerId.name))])]),s("div",{staticClass:"priceArea flex"},[e.orderCompleted?e._e():s("div",{staticClass:"priceDetails flex"},[s("h1",[e._v(" "+e._s(e.meal.price)+"$ "),s("span",[e._v("Price per guest")])]),s("div",[s("span",[e._v("Date")]),s("el-input",{staticClass:"meal-date",model:{value:e.mealDate,callback:function(t){e.mealDate=t},expression:"mealDate"}})],1),s("div",[s("div",{staticClass:"numGust"},[e._v("Number of guests")]),s("el-input-number",{staticClass:"guest-input",attrs:{size:"medium",min:1,step:1},model:{value:e.numOfGust,callback:function(t){e.numOfGust=t},expression:"numOfGust"}})],1),s("div",{staticClass:"payment"},[s("h3",{staticClass:"total"},[e._v("Total")]),e.numOfGust>1?s("h3",{staticClass:"totalAmount"},[s("span",[e._v(e._s(e.numOfGust)+" guests x "+e._s(e.meal.price)+"$")]),s("span",{staticClass:"totalPrice"},[e._v(e._s(e.numOfGust*e.meal.price)+"$")])]):s("h3",{staticClass:"totalAmount"},[s("span",[e._v(e._s(e.numOfGust)+" guest x "+e._s(e.meal.price)+"$")]),s("span",{staticClass:"totalPrice"},[e._v(e._s(e.numOfGust*e.meal.price)+"$")])])]),s("el-button",{staticClass:"joinToMeal",attrs:{type:"primary",round:""},on:{click:e.getBookMael}},[e._v("Join To Meal")])],1),s("transition",{attrs:{name:"flip",mode:"out-in"}},[e.orderCompleted?s("div",{staticClass:"priceDetails flex"},[s("div",{staticClass:"orderNum"},[s("div",{staticClass:"orderBy"},[e._v("Dear "+e._s(e.user.username)+" ,")]),s("div",[e._v("Thank you for your order!")]),s("div",{staticClass:"order-num"},[e._v("Order number is: #1472584963")])]),s("div",{staticClass:"order-details"},[s("div",[e._v("Your order details:")]),s("div",[e._v(e._s(e.meal.title))]),s("div",[e._v("At: "+e._s(e.dinnerTime)+" , "+e._s(e.mealDate))]),s("div",{staticClass:"paymentTotal"},[s("h3",{staticClass:"total"},[e._v("Total")]),e.numOfGust>1?s("h3",{staticClass:"totalAmount"},[s("span",[e._v(e._s(e.numOfGust)+" guests x "+e._s(e.meal.price)+"$")]),s("span",{staticClass:"totalPrice"},[e._v(e._s(e.numOfGust*e.meal.price)+"$")])]):s("h3",{staticClass:"totalAmount"},[s("span",[e._v(e._s(e.numOfGust)+" guest x "+e._s(e.meal.price)+"$")]),s("span",{staticClass:"totalPrice"},[e._v(e._s(e.numOfGust*e.meal.price)+"$")])])])]),s("router-link",{staticClass:"back-to-meals",attrs:{to:"/meal"}},[s("el-button",{staticClass:"joinToMeal",attrs:{type:"primary",round:""}},[e._v("Find your next meal")])],1),s("div")],1):e._e()])],1)]),s("Menu",{attrs:{meal:e.meal}}),s("section",{staticClass:"whoIsGoing"},[s("h2",[e._v("Who's going?")]),s("MealGuest",{attrs:{meal:e.meal}}),e.user?s("button",{staticClass:"toggle-chat",on:{click:e.toggleChat}},[e._v("Chat Room")]):e._e(),s("div",{staticClass:"chat",class:{display:e.display}},[s("button",{staticClass:"close-chat",on:{click:e.toggleChat}},[e._v("X")]),s("ul",e._l(e.msgs,(function(t,r){return s("li",{key:r},[e._v(e._s(t.from)+" : "+e._s(t.txt))])})),0),e.isType?s("div",[e._v(e._s(e.user.username)+" is "+e._s(this.typing))]):e._e(),s("form",{on:{submit:function(t){return t.preventDefault(),e.sendMsg(t)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.msg.txt,expression:"msg.txt"}],staticClass:"chat-input",attrs:{placeholder:"start typing...",type:"text"},domProps:{value:e.msg.txt},on:{keypress:e.key,input:function(t){t.target.composing||e.$set(e.msg,"txt",t.target.value)}}}),s("button",{staticClass:"chat-btn"},[e._v("Send")])])])],1),s("section",{staticClass:"reviewArea"},[s("h2",[s("i",{staticClass:"fa fa-star"}),e._v(" "+e._s(e.meal.rate)+" (248 reviews) ")]),s("Reviews")],1),e._m(1),s("Map",{staticClass:"locationMap",attrs:{location:e.location}})],1)]):e._e()},Pe=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",[s("div",[s("i",{staticClass:"fa fa-user-friends"})])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mapdetails"},[s("h4",[e._v("Location")]),s("h5",[e._v("The full address will be provided once the booking is confirmed")])])}],Ae=s("8055"),Le=s.n(Ae),Be="/",Ge=Le()(Be),ze={on:Fe,emit:Ne};function Fe(e,t){Ge.on(e,t)}function Ne(e,t){Ge.emit(e,t)}var He=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"map"},[s("GmapMap",{staticClass:"map",staticStyle:{width:"100%","margin-bottom":"25px",height:"400px"},attrs:{center:e.center,zoom:13,"map-type-id":"terrain"}},e._l(e.markers,(function(t,r){return s("GmapMarker",{key:r,attrs:{position:t.position,clickable:!0,draggable:!0},on:{click:function(s){e.center=t.position}}})})),1)],1)},Je=[],qe={props:{location:Object},data:function(){return{markers:[{position:{lat:this.location.lat,lng:this.location.lng}}],center:{lat:this.location.lat,lng:this.location.lng}}},methods:{}},We=qe,Ze=(s("135a"),Object(h["a"])(We,He,Je,!1,null,"70bc9137",null)),Ye=Ze.exports,Ve=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"mealMenu2"},[s("h1",[e._v("Menu")]),s("div",{staticClass:"dish2"},[s("h2",[e._v("Appetizers")]),s("div",{staticClass:"appetizers flex menu2"},[s("div",{staticClass:"dish-details-con"},[s("div",[s("h3",[s("i",{staticClass:"fa fa-thumbs-up",on:{click:function(t){return e.incCounter("appetizers",0,1)}}}),s("span",{staticClass:"count"},[e._v(e._s(this.vote.appetizers.opt1))])])]),s("div",[s("h3",[e._v(e._s(e.meal.dishes.appetizers[0].name))]),e.meal.dishes.appetizers[0].description.length>0?s("h5",[e._v(e._s(e.meal.dishes.appetizers[0].description))]):e._e()])]),s("div",{staticClass:"dish-details-con"},[s("div",[s("h3",[s("i",{staticClass:"fa fa-thumbs-up",on:{click:function(t){return e.incCounter("appetizers",1,0)}}}),s("span",{staticClass:"count"},[e._v(e._s(this.vote.appetizers.opt2))])])]),s("div",[s("h3",[e._v(e._s(e.meal.dishes.appetizers[1].name))]),e.meal.dishes.appetizers[1].description.length>0?s("h5",[e._v(e._s(e.meal.dishes.appetizers[1].description))]):e._e()])])]),s("div",{staticClass:"border"})]),s("div",{staticClass:"dish2"},[s("h2",[e._v("Mains")]),s("div",{staticClass:"appetizers flex menu2"},[s("div",{staticClass:"dish-details-con"},[s("div",[s("h3",[s("i",{staticClass:"fa fa-thumbs-up",on:{click:function(t){return e.incCounter("mains",0,1)}}}),s("span",{staticClass:"count"},[e._v(e._s(this.vote.mains.opt1))])])]),s("div",[s("h3",[e._v(e._s(e.meal.dishes.mains[0].name))]),e.meal.dishes.mains[0].description.length>0?s("h5",[e._v(e._s(e.meal.dishes.mains[0].description))]):e._e()])]),s("div",{staticClass:"dish-details-con"},[s("div",[s("h3",[s("i",{staticClass:"fa fa-thumbs-up",on:{click:function(t){return e.incCounter("mains",1,0)}}}),s("span",{staticClass:"count"},[e._v(e._s(this.vote.mains.opt2))])])]),s("div",[s("h3",[e._v(e._s(e.meal.dishes.mains[1].name))]),e.meal.dishes.mains[1].description.length>0?s("h5",[e._v(e._s(e.meal.dishes.mains[1].description))]):e._e()])])]),s("div",{staticClass:"border"})]),s("div",{staticClass:"dish2"},[s("h2",[e._v("Desserts")]),s("div",{staticClass:"appetizers flex menu2"},[s("div",{staticClass:"dish-details-con"},[s("div",[s("h3",[s("i",{staticClass:"fa fa-thumbs-up",on:{click:function(t){return e.incCounter("dessert",0,1)}}}),s("span",{staticClass:"count"},[e._v(e._s(this.vote.dessert.opt1))])])]),s("div",[s("h3",[e._v(e._s(e.meal.dishes.dessert[0].name))]),e.meal.dishes.dessert[0].description.length>0?s("h5",[e._v(e._s(e.meal.dishes.dessert[0].description))]):e._e()])]),s("div",{staticClass:"dish-details-con"},[s("div",[s("h3",[s("i",{staticClass:"fa fa-thumbs-up",on:{click:function(t){return e.incCounter("dessert",1,0)}}}),s("span",{staticClass:"count"},[e._v(e._s(this.vote.dessert.opt2))])])]),s("div",[s("h3",[e._v(e._s(e.meal.dishes.dessert[1].name))]),e.meal.dishes.dessert[1].description.length>0?s("h5",[e._v(e._s(e.meal.dishes.dessert[1].description))]):e._e()])])]),s("div",{staticClass:"border"})]),s("div",{staticClass:"dish2"},[s("h2",[e._v("Drinks")]),s("div",{staticClass:"drinks flex"},e._l(e.meal.dishes.drinks,(function(t,r){return s("h4",{key:r},[e._v(" "+e._s(t)+" "),r<e.meal.dishes.drinks.length-1?s("span",[e._v(",")]):e._e()])})),0)])])},Qe=[],Xe={props:["meal"],data:function(){return{IsFirstClick:!0,IsFirstMainsClick:!0,IsFirstDessertClick:!0,isZeroIdxClick:!1,isOneIdxClick:!1}},computed:{vote:function(){return{appetizers:{opt1:this.meal.dishes.appetizers[0].count,opt2:this.meal.dishes.appetizers[1].count},mains:{opt1:this.meal.dishes.mains[0].count,opt2:this.meal.dishes.mains[1].count},dessert:{opt1:this.meal.dishes.dessert[0].count,opt2:this.meal.dishes.dessert[1].count}}}},methods:{incCounter:function(e,t,s){var r;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:r=JSON.parse(JSON.stringify(this.meal)),a.t0=e,a.next="appetizers"===a.t0?4:"mains"===a.t0?6:"dessert"===a.t0?8:9;break;case 4:return this.IsFirstClick?(r.dishes.appetizers[t].count++,this.IsFirstClick=!1,0===t?this.isZeroIdxClick=!0:this.isOneIdxClick=!0):0===t&&this.isZeroIdxClick||1===t&&this.isOneIdxClick||(0===t?(this.isZeroIdxClick=!0,this.isOneIdxClick=!1):(this.isOneIdxClick=!0,this.isZeroIdxClick=!1),r.dishes.appetizers[t].count++,r.dishes.appetizers[s].count--),a.abrupt("break",10);case 6:return this.IsFirstMainsClick?(r.dishes.mains[t].count++,this.IsFirstMainsClick=!1,0===t?this.isZeroIdxClick=!0:this.isOneIdxClick=!0):0===t&&this.isZeroIdxClick||1===t&&this.isOneIdxClick||(0===t?(this.isZeroIdxClick=!0,this.isOneIdxClick=!1):(this.isOneIdxClick=!0,this.isZeroIdxClick=!1),r.dishes.mains[t].count++,r.dishes.mains[s].count--),a.abrupt("break",10);case 8:this.IsFirstDessertClick?(r.dishes.dessert[t].count++,this.IsFirstDessertClick=!1,0===t?this.isZeroIdxClick=!0:this.isOneIdxClick=!0):0===t&&this.isZeroIdxClick||1===t&&this.isOneIdxClick||(0===t?(this.isZeroIdxClick=!0,this.isOneIdxClick=!1):(this.isOneIdxClick=!0,this.isZeroIdxClick=!1),r.dishes.dessert[t].count++,r.dishes.dessert[s].count--);case 9:return a.abrupt("break",10);case 10:return ze.emit("created",r),a.next=13,regeneratorRuntime.awrap(this.$store.dispatch({type:"editMeal",currMeal:r}));case 13:case"end":return a.stop()}}),null,this)}}},Ke=Xe,et=Object(h["a"])(Ke,Ve,Qe,!1,null,null,null),tt=et.exports,st=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.reviews?s("section",{staticClass:"main-review-container flex"},[s("section",{staticClass:"reviewsSection"},e._l(e.reviews,(function(t,r){return s("div",{key:r,staticClass:"reviews"},[s("div",{staticClass:"review"},[s("el-avatar",{staticClass:"revieimg",attrs:{size:50,src:t.byUser.imgUrl}}),s("div",{staticClass:"reviewBy"},[s("h4",[e._v(" "+e._s(t.byUser.username)+" "),s("span",[e._v(e._s((new Date(t.date)+"").substring(4,15)))])]),s("h5",[e._v(" "+e._s(t.rate)+"/5 "),s("i",{staticClass:"fa fa-star"})])])],1),s("div",[e._v(e._s(t.review))])])})),0),e.isCloseAddReview?s("el-button",{staticClass:"write-new-review",attrs:{type:"danger"},on:{click:e.openToAddReview}},[e._v("Write a review")]):s("el-button",{staticClass:"write-new-review",attrs:{type:"danger"},on:{click:e.openToAddReview}},[e._v("Close")]),s("section",{class:{guestReview:e.isCloseAddReview}},[e.user?s("section",[s("div",{staticClass:"new-guest-review"},[s("el-rate",{staticClass:"new-rate",attrs:{"allow-half":"",texts:["Oops","Disappointed","Normal","Good","Great"],"show-text":"","show-score":""},model:{value:e.reviewToEdit.rate,callback:function(t){e.$set(e.reviewToEdit,"rate",t)},expression:"reviewToEdit.rate"}}),s("el-input",{staticClass:"new-review",attrs:{type:"textarea",rows:2,placeholder:"Write your review"},model:{value:e.reviewToEdit.review,callback:function(t){e.$set(e.reviewToEdit,"review",t)},expression:"reviewToEdit.review"}}),s("el-button",{staticClass:"add-review",attrs:{type:"danger"},on:{click:e.addReview}},[e._v("Add review")])],1)]):s("div",[e._v("Only logged in user can write a review")])])],1):e._e()},rt=[],at={data:function(){return{reviewIdx:0,reviewToEdit:{rate:0,review:""},isCloseAddReview:!0}},computed:{user:function(){return this.$store.getters.loggedinUser},reviews:function(){return this.$store.getters.reviews},meal:function(){return this.$store.getters.currMeal},reviewDate:function(){var e=(new Date(this.reviews[this.reviewIdx].date)+"").substring(4,15);return this.reviewIdx++,e=e.substring(4,15),e}},created:function(){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(this.$store.dispatch({type:"loadReviews",mealId:this.meal._id}));case 2:case"end":return e.stop()}}),null,this)},methods:{openToAddReview:function(){this.isCloseAddReview=!this.isCloseAddReview,this.reviewToEdit={review:"",rate:0}},addReview:function(){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:this.reviewToEdit.date=Date.now(),this.reviewToEdit.aboutMealId=this.meal._id,this.$store.dispatch({type:"addReview",review:this.reviewToEdit}),this.reviewToEdit={review:"",rate:0},this.isCloseAddReview=!0;case 5:case"end":return e.stop()}}),null,this)}}},nt=at,it=Object(h["a"])(nt,st,rt,!1,null,null,null),ot=it.exports,lt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"guest-container"},e._l(e.guests,(function(e){return s("previewGuest",{key:e._id,attrs:{guest:e}})})),1)},ct=[],ut=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.user?s("section",{staticClass:"whoGoing"},[s("div",{staticClass:"review"},[s("el-avatar",{staticClass:"revieimg",attrs:{size:50,src:e.user.imgUrl}}),s("div",{staticClass:"guest"},[s("h4",[e._v(e._s(e.user.username)+" , "+e._s(e.guestAge))]),s("h4",[e._v(e._s(e.user.location.city)+" ,"+e._s(e.user.location.country))])])],1)]):e._e()},dt=[],pt=(s("b680"),s("99af"),s("2f62")),mt=(s("7db0"),s("c740"),s("caad"),s("4e82"),s("a434"),s("4d63"),s("ac1f"),s("25f0"),s("2532"),s("284c")),ht=s("bc3a"),vt=s.n(ht);vt.a.defaults.withCredentials=!0;var gt={query:_t,add:wt,remove:yt,getById:Ct,edit:bt,getDefaultMeal:Mt},ft="/api/meal";function _t(){return vt.a.get(ft).then((function(e){return e.data}))}function wt(e){return vt.a.post(ft,e).then((function(e){return e.data}))}function yt(e){return vt.a.delete("".concat(ft,"/").concat(e))}function Ct(e){return vt.a.get("".concat(ft,"/").concat(e)).then((function(e){return e.data}))}function bt(e){return vt.a.put("".concat(ft,"/").concat(e._id),e).then((function(e){return e.data}))}function Mt(){return{title:"",location:{country:"",city:"",lat:41.902782,lng:12.496366},price:0,atDate:"",duration:0,tags:[""],ownerId:{id:"",name:"",about:" better with wine!"},rate:4.7,maxUsers:7,guests:["userId1","userId2","userId3","userId4"],imgUrl:[],description:"Experience traditional, organic Roman cuisine with a modern touch in a relaxed, friendly home. Best friends Giovanna and Cristina use family recipes and great wines to make you feel welcome!.",dishes:{appetizers:[{name:"",description:"",count:2},{name:"",description:"",count:1}],mains:[{name:"",description:"",count:2},{name:"",description:"",count:1}],dessert:[{name:"",description:"",count:2},{name:"",description:"",count:1}],drinks:["Red Wine","White Wine","Beer"]}}}var xt={strict:!0,state:{meals:[],currMeal:null,userMeals:null,mainFilter:"",filterBy:{searchStr:"",mealType:[],priceRange:[0,100]}},mutations:{setMeals:function(e,t){var s=t.meals;e.meals=s},setCurrMeal:function(e,t){var s=e.meals.find((function(e){return e._id===t}));e.currMeal=s},removeMeal:function(e,t){var s=t.mealId,r=e.meals.findIndex((function(e){return e._id===s}));e.meals.splice(r,1)},addMeal:function(e,t){var s=t.meal;e.meals.push(s)},editMeal:function(e,t){var s=t.updatedMeal,r=e.meals.findIndex((function(e){return e._id===s._id}));e.meals.splice(r,1,s),e.currMeal=s},setMealsFilter:function(e,t){e.filterBy=t},setMainFilter:function(e,t){e.mainFilter=t},sortMeals:function(e,t){e.meals.sort((function(e,t){return e.price>t.price?1:-1}))},userMeals:function(e,t){var s=e.meals.filter((function(e){return e.ownerId.id===t.userId}));e.userMeals=s}},getters:{mealsToShow:function(e){var t=e.filterBy,s=e.mainFilter,r=Object(mt["a"])(e.meals),a=new RegExp(s,"i");return 0!==s.length&&(r=r.filter((function(e){if(e.location)return a.test(e.location.city)||a.test(e.location.country)}))),a=new RegExp(t.searchStr,"i"),t.searchStr.length>0&&(r=r.filter((function(e){return a.test(e.title)}))),r=r.filter((function(e){return e.price>t.priceRange[0]&&e.price<t.priceRange[1]})),0===t.mealType.length?r:(r=r.filter((function(e){return t.mealType.includes(e.tags[0])})),r)},currMeal:function(e){return e.currMeal},userMeals:function(e){return e.userMeals}},actions:{loadMeals:function(e){var t,s;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return t=e.commit,r.next=3,regeneratorRuntime.awrap(gt.query());case 3:return s=r.sent,t({type:"setMeals",meals:s}),r.abrupt("return",s);case 6:case"end":return r.stop()}}))},setCurrMeal:function(e,t){var s,r;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.mealId,a.next=3,regeneratorRuntime.awrap(gt.query());case 3:return r=a.sent,e.commit("setCurrMeal",s),a.abrupt("return",r);case 6:case"end":return a.stop()}}))},removeMeal:function(e,t){return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,regeneratorRuntime.awrap(gt.remove(t.mealId));case 2:e.commit({type:"removeMeal",mealId:t.mealId});case 3:case"end":return s.stop()}}))},getById:function(e,t){var s;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,regeneratorRuntime.awrap(gt.getById(t.routeParamsId));case 2:return s=r.sent,e.commit({type:"setCurrMeal",meals:s}),r.abrupt("return",s);case 5:case"end":return r.stop()}}))},editMeal:function(e,t){var s,r;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.currMeal,a.next=3,regeneratorRuntime.awrap(gt.edit(s));case 3:return r=a.sent,e.commit({type:"editMeal",updatedMeal:r}),a.abrupt("return",r);case 6:case"end":return a.stop()}}))},addMeal:function(e,t){var s,r;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.currMeal,a.next=3,regeneratorRuntime.awrap(gt.add(s));case 3:return r=a.sent,e.commit({type:"addMeal",meal:r}),a.abrupt("return",r);case 6:case"end":return a.stop()}}))}}},kt=null;sessionStorage.user&&(kt=JSON.parse(sessionStorage.user));var It={state:{loggedinUser:kt,users:[]},getters:{users:function(e){return e.users},loggedinUser:function(e){return e.loggedinUser}},mutations:{setUser:function(e,t){var s=t.user;e.loggedinUser=s},setUsers:function(e,t){var s=t.users;e.users=s},removeUser:function(e,t){var s=t.userId;e.users=e.users.filter((function(e){return e._id!==s}))}},actions:{login:function(e,t){var s,r;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.userCred,a.next=3,regeneratorRuntime.awrap(Gt.login(s));case 3:return r=a.sent,e.commit({type:"setUser",user:r}),a.abrupt("return",r);case 6:case"end":return a.stop()}}))},signup:function(e,t){var s,r;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.userCred,a.next=3,regeneratorRuntime.awrap(Gt.signup(s));case 3:return r=a.sent,e.commit({type:"setUser",user:r}),a.abrupt("return",r);case 6:case"end":return a.stop()}}))},logout:function(e){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(Gt.logout());case 2:e.commit({type:"setUsers",users:[]}),e.commit({type:"setUser",user:null});case 4:case"end":return t.stop()}}))},loadUsers:function(e){var t;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,regeneratorRuntime.awrap(Gt.getUsers());case 2:t=s.sent,e.commit({type:"setUsers",users:t});case 4:case"end":return s.stop()}}))},removeUser:function(e,t){var s;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return s=t.userId,r.next=3,regeneratorRuntime.awrap(Gt.remove(s));case 3:e.commit({type:"removeUser",userId:s});case 4:case"end":return r.stop()}}))},updateUser:function(e,t){var s;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return s=t.user,r.next=3,regeneratorRuntime.awrap(Gt.update(s));case 3:s=r.sent,e.commit({type:"setUser",user:s});case 5:case"end":return r.stop()}}))}}},Ot=(s("26e9"),{add:St,query:$t,remove:Rt});function $t(){return Lt.get("review")}function Rt(e){return Lt.delete("review/".concat(e))}function St(e){return Lt.post("review",e)}var Dt={state:{reviews:[]},getters:{reviews:function(e){return e.reviews}},mutations:{setReviews:function(e,t){var s=t.reviews;e.reviews=s.reverse()},addReview:function(e,t){var s=t.review;e.reviews.unshift(s)},removeReview:function(e,t){var s=t.reviewId;e.reviews=e.reviews.filter((function(e){return e._id!==s}))}},actions:{addReview:function(e,t){var s;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return s=t.review,r.next=3,regeneratorRuntime.awrap(Ot.add(s));case 3:return s=r.sent,e.commit({type:"addReview",review:s}),r.abrupt("return",s);case 6:case"end":return r.stop()}}))},loadReviews:function(e,t){var s,r;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.mealId,a.next=3,regeneratorRuntime.awrap(Ot.query());case 3:return r=a.sent,a.next=6,regeneratorRuntime.awrap(r.filter((function(e){return e.aboutMeal._id===s})));case 6:r=a.sent,e.commit({type:"setReviews",reviews:r});case 8:case"end":return a.stop()}}))},removeReview:function(e,t){var s;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return s=t.reviewId,r.next=3,regeneratorRuntime.awrap(Ot.remove(s));case 3:e.commit({type:"removeReview",reviewId:s});case 4:case"end":return r.stop()}}))}}},Ut=s("5c13"),Et=s.n(Ut);r["default"].use(pt["a"]);var jt=new pt["a"].Store({state:{meals:[],currMeal:null},getters:{meals:function(e){return e.meals}},actions:{},modules:{MealStore:xt,UserStore:It,SocketStore:Et.a,ReviewStore:Dt}}),Tt="/api/",Pt=vt.a.create({withCredentials:!0}),At=vt.a.create({withCredentials:!1}),Lt={axiosNoCredentials:At,get:function(e,t){return Bt(e,"GET",t)},post:function(e,t){return Bt(e,"POST",t)},put:function(e,t){return Bt(e,"PUT",t)},delete:function(e,t){return Bt(e,"DELETE",t)}};function Bt(e){var t,s,r,a=arguments;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return t=a.length>1&&void 0!==a[1]?a[1]:"get",s=a.length>2&&void 0!==a[2]?a[2]:null,n.prev=2,n.next=5,regeneratorRuntime.awrap(Pt({url:"".concat(Tt).concat(e),method:t,data:s}));case 5:return r=n.sent,n.abrupt("return",r.data);case 9:n.prev=9,n.t0=n["catch"](2),401===n.t0.response.status&&Us.push("/");case 12:case"end":return n.stop()}}),null,null,[[2,9]])}var Gt={login:Ht,logout:qt,signup:Jt,getUsers:Wt,getById:zt,remove:Ft,update:Nt};function zt(e){return Lt.get("user/".concat(e))}function Ft(e){return Lt.delete("user/".concat(e))}function Nt(e){return Lt.put("user/".concat(e._id),e)}function Ht(e){var t;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,regeneratorRuntime.awrap(Lt.post("auth/login",e));case 2:return t=s.sent,s.abrupt("return",Zt(t));case 4:case"end":return s.stop()}}))}function Jt(e){var t;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,regeneratorRuntime.awrap(Lt.post("auth/signup",e));case 2:return t=s.sent,s.abrupt("return",Zt(t));case 4:case"end":return s.stop()}}))}function qt(){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(Lt.post("auth/logout"));case 2:sessionStorage.clear();case 3:case"end":return e.stop()}}))}function Wt(){return Lt.get("user")}function Zt(e){return sessionStorage.setItem("user",JSON.stringify(e)),e}var Yt={props:["guest"],data:function(){return{user:null}},created:function(){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(Gt.getById(this.guest));case 2:this.user=e.sent;case 3:case"end":return e.stop()}}),null,this)},computed:{guestAge:function(){var e=Date.now(),t=this.user.birthDay,s=e-t;return s/=31536e6,s.toFixed()}}},Vt=Yt,Qt=Object(h["a"])(Vt,ut,dt,!1,null,null,null),Xt=Qt.exports,Kt={name:"meal",components:{previewGuest:Xt},computed:{meal:function(){return this.$store.getters.currMeal},guests:function(){return this.meal.guests}}},es=Kt,ts=Object(h["a"])(es,lt,ct,!1,null,null,null),ss=ts.exports,rs=(s("3022"),s("5118"),{name:"mealdetails",components:{NavHeader:y,Map:Ye,Menu:tt,Reviews:ot,MealGuest:ss,SocketService:ze},data:function(){return{isType:!1,typing:"typing...",display:!1,isShowModal:!1,isLogOut:!1,isShowGallery:!1,numOfGust:1,orderCompleted:!1,msgs:[],dateMeal:null,msg:{from:"",txt:""}}},created:function(){var e=this;this.$store.dispatch("loadMeals");var t=this.$route.params._id;t&&(this.$store.dispatch({type:"setCurrMeal",mealId:t}),ze.on("chat addMsg",(function(t){e.msgs.push(t)})),ze.on("print",(function(e){})),window.scrollTo({top:0,left:0,behavior:"smooth"}))},computed:{meal:function(){return this.$store.getters.currMeal},user:function(){return JSON.parse(JSON.stringify(this.$store.getters.loggedinUser))},location:function(){return this.$store.getters.currMeal.location},dinnerTime:function(){var e=new Date(+this.meal.atDate)+"",t=6e4*this.meal.duration*60+ +this.meal.atDate;t=new Date(t)+"",e=e.substring(16,21),t=t.substring(16,21);var s=e+" - "+t;return s},mealDate:function(){var e=this.meal.atDate;return e=new Date(+e),e=e.toLocaleDateString(),e}},methods:{getBookMael:function(){var e=JSON.parse(JSON.stringify(this.$store.getters.loggedinUser));e?(this.orderCompleted=!this.orderCompleted,this.isLogOut=!1,this.meal.guests.unshift(e._id),e.meals?e.meals.unshift({id:this.meal._id,name:this.meal.title,img:this.meal.imgUrl[0]}):e.meals=[{id:this.meal._id,name:this.meal.title,img:this.meal.imgUrl[0]}],this.updateUser(e),this.updateMeal(this.meal)):this.isLogOut=!0},updateMeal:function(e){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(this.$store.dispatch({type:"editMeal",currMeal:e}));case 2:this.meal;case 3:case"end":return t.stop()}}),null,this)},updateUser:function(e){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(this.$store.dispatch({type:"updateUser",user:e}));case 2:case"end":return t.stop()}}),null,this)},getImgGallery:function(){this.isShowGallery=!this.isShowGallery},closeOrder:function(){this.isShowModal=!this.isShowModal},closeError:function(){this.isLogOut=!this.isLogOut},sendMsg:function(){var e=this.$store.getters.loggedinUser;this.msg.from=e.username,ze.emit("chat newMsg",this.msg),this.msg={},this.isType=!1},toggleChat:function(){this.display?this.display=!1:this.display=!0},key:function(){this.isType=!0,ze.emit("is typing",this.typing)}}}),as=rs,ns=Object(h["a"])(as,Te,Pe,!1,null,null,null),is=ns.exports,os=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",[e.currMeal?s("div",{staticClass:"edit-container"},[s("form",{staticClass:"edit-form",attrs:{type:"submit"}},[s("div",{staticClass:"inputs-container"},[s("span",[e._v("Title")]),s("el-input",{attrs:{type:"text"},model:{value:e.currMeal.title,callback:function(t){e.$set(e.currMeal,"title",t)},expression:"currMeal.title"}}),s("span",[e._v("Country")]),e.currMeal.location?s("el-input",{attrs:{type:"text"},model:{value:e.currMeal.location.country,callback:function(t){e.$set(e.currMeal.location,"country",t)},expression:"currMeal.location.country"}}):e._e(),s("span",[e._v("City")]),e.currMeal.location?s("el-input",{attrs:{type:"text"},model:{value:e.currMeal.location.city,callback:function(t){e.$set(e.currMeal.location,"city",t)},expression:"currMeal.location.city"}}):e._e(),s("span",[e._v("Address")]),s("el-input",{attrs:{type:"text"},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}}),s("span",[e._v("Price")]),s("el-input",{attrs:{type:"number"},model:{value:e.currMeal.duration,callback:function(t){e.$set(e.currMeal,"duration",t)},expression:"currMeal.duration"}})],1),s("h3",[e._v("Time")]),s("div",{staticClass:"inputs-container"},[s("span",[e._v("Time")]),s("el-date-picker",{attrs:{"value-format":"timestamp",type:"datetime",placeholder:"Select date and time"},model:{value:e.currMeal.atDate,callback:function(t){e.$set(e.currMeal,"atDate",t)},expression:"currMeal.atDate"}}),s("span",[e._v("Duration of the event")]),s("el-input",{attrs:{type:"number"},model:{value:e.currMeal.price,callback:function(t){e.$set(e.currMeal,"price",t)},expression:"currMeal.price"}})],1),s("h3",[e._v("Hosting")]),s("div",{staticClass:"inputs-container"},[s("span",[e._v("Tags")]),e.currMeal.tags?s("el-select",{attrs:{multiple:"",placeholder:"Select"},model:{value:e.currMeal.tags,callback:function(t){e.$set(e.currMeal,"tags",t)},expression:"currMeal.tags"}},e._l(e.options,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):e._e(),s("span",[e._v("Limit Guests")]),s("el-input",{attrs:{type:"number"},model:{value:e.currMeal.maxUsers,callback:function(t){e.$set(e.currMeal,"maxUsers",t)},expression:"currMeal.maxUsers"}})],1),s("h3",[e._v("Appetizers")]),e.currMeal.dishes?s("div",{staticClass:"inputs-container"},[s("span",[e._v("first Appetizer")]),s("el-input",{attrs:{type:"text"},model:{value:e.currMeal.dishes.appetizers[0].name,callback:function(t){e.$set(e.currMeal.dishes.appetizers[0],"name",t)},expression:"currMeal.dishes.appetizers[0].name"}}),s("span",[e._v("Description")]),s("el-input",{attrs:{type:"text"},model:{value:e.currMeal.dishes.appetizers[0].description,callback:function(t){e.$set(e.currMeal.dishes.appetizers[0],"description",t)},expression:"currMeal.dishes.appetizers[0].description"}}),s("span",[e._v("second Appetizer")]),s("el-input",{attrs:{type:"text"},model:{value:e.currMeal.dishes.appetizers[1].name,callback:function(t){e.$set(e.currMeal.dishes.appetizers[1],"name",t)},expression:"currMeal.dishes.appetizers[1].name"}}),s("span",[e._v("Description")]),s("el-input",{attrs:{type:"text"},model:{value:e.currMeal.dishes.appetizers[1].description,callback:function(t){e.$set(e.currMeal.dishes.appetizers[1],"description",t)},expression:"currMeal.dishes.appetizers[1].description"}})],1):e._e(),s("h3",[e._v("Mains")]),e.currMeal.dishes?s("div",{staticClass:"inputs-container"},[s("span",[e._v("first main")]),s("el-input",{attrs:{type:"text"},model:{value:e.currMeal.dishes.mains[0].name,callback:function(t){e.$set(e.currMeal.dishes.mains[0],"name",t)},expression:"currMeal.dishes.mains[0].name"}}),s("span",[e._v("Description")]),s("el-input",{attrs:{type:"text"},model:{value:e.currMeal.dishes.mains[0].description,callback:function(t){e.$set(e.currMeal.dishes.mains[0],"description",t)},expression:"currMeal.dishes.mains[0].description"}}),s("span",[e._v("second main")]),s("el-input",{attrs:{type:"text"},model:{value:e.currMeal.dishes.mains[1].name,callback:function(t){e.$set(e.currMeal.dishes.mains[1],"name",t)},expression:"currMeal.dishes.mains[1].name"}}),s("span",[e._v("Description")]),s("el-input",{attrs:{type:"text"},model:{value:e.currMeal.dishes.mains[1].description,callback:function(t){e.$set(e.currMeal.dishes.mains[1],"description",t)},expression:"currMeal.dishes.mains[1].description"}})],1):e._e(),s("h3",[e._v("Desserts")]),e.currMeal.dishes?s("div",{staticClass:"inputs-container"},[s("span",[e._v("first Dessert")]),s("el-input",{attrs:{type:"text"},model:{value:e.currMeal.dishes.dessert[0].name,callback:function(t){e.$set(e.currMeal.dishes.dessert[0],"name",t)},expression:"currMeal.dishes.dessert[0].name"}}),s("span",[e._v("Description")]),s("el-input",{attrs:{type:"text"},model:{value:e.currMeal.dishes.dessert[0].description,callback:function(t){e.$set(e.currMeal.dishes.dessert[0],"description",t)},expression:"currMeal.dishes.dessert[0].description"}}),s("span",[e._v("second Dessert")]),s("el-input",{attrs:{type:"text"},model:{value:e.currMeal.dishes.dessert[1].name,callback:function(t){e.$set(e.currMeal.dishes.dessert[1],"name",t)},expression:"currMeal.dishes.dessert[1].name"}}),s("span",[e._v("Description")]),s("el-input",{attrs:{type:"text"},model:{value:e.currMeal.dishes.dessert[1].description,callback:function(t){e.$set(e.currMeal.dishes.dessert[1],"description",t)},expression:"currMeal.dishes.dessert[1].description"}})],1):e._e(),s("h3",[e._v("Drinks")]),e.currMeal.dishes?s("div",{staticClass:"inputs-container"},[s("span",[e._v("Tags")]),e.currMeal.tags?s("el-select",{attrs:{multiple:"",placeholder:"Select"},model:{value:e.currMeal.dishes.drinks,callback:function(t){e.$set(e.currMeal.dishes,"drinks",t)},expression:"currMeal.dishes.drinks"}},e._l(e.drinks,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):e._e()],1):e._e(),e.currMeal.dishes?s("div",{staticClass:"inputs-container"},[s("span",[e._v("Discribe you'r meal")]),s("el-input",{attrs:{rows:3,type:"textarea"},model:{value:e.currMeal.description,callback:function(t){e.$set(e.currMeal,"description",t)},expression:"currMeal.description"}})],1):e._e(),e.currMeal.ownerId?s("div",{staticClass:"inputs-container"},[s("span",[e._v("Tell about yourself")]),s("el-input",{attrs:{rows:3,type:"textarea"},model:{value:e.currMeal.ownerId.about,callback:function(t){e.$set(e.currMeal.ownerId,"about",t)},expression:"currMeal.ownerId.about"}})],1):e._e(),s("h3",[e._v("Images")]),s("div",{staticClass:"inputs-container"},[s("span",[e._v("add img")]),s("input",{staticClass:"edit-img-input",attrs:{type:"file"},on:{change:e.uploadImg}})]),s("div",{staticClass:"cards-container"},e._l(e.currMeal.imgUrl,(function(t){return s("img-preview",{key:t,attrs:{url:t},on:{removeImg:e.removeImg}})})),1),s("div",{staticClass:"edit-btn-container"},[e.currMeal._id?s("el-button",{attrs:{type:"info",round:""},on:{click:e.save}},[e._v("save")]):s("el-button",{attrs:{type:"info",round:""},on:{click:e.add}},[e._v("add")])],1)])]):e._e()])},ls=[],cs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"img-prev-card"},[s("img",{staticClass:"img-card img-hight",attrs:{src:e.url,alt:""}}),s("button",{staticClass:"del-btn",on:{click:function(t){return e.onRemoveImg(e.url)}}},[e._v("Delete")])])},us=[],ds={props:["url"],methods:{onRemoveImg:function(e){this.$emit("removeImg",e)}}},ps=ds,ms=Object(h["a"])(ps,cs,us,!1,null,null,null),hs=ms.exports,vs={data:function(){return{address:"",currMeal:{title:"",location:{country:"",city:"",lat:41.902782,lng:12.496366},price:0,atDate:"",duration:0,tags:[""],ownerId:{id:"",name:"",about:" better with wine!"},rate:4.7,maxUsers:7,guests:["userId1","userId2","userId3","userId4"],imgUrl:[],description:"Experience traditional, organic Roman cuisine with a modern touch in a relaxed, friendly home. Best friends Giovanna and Cristina use family recipes and great wines to make you feel welcome!.",dishes:{appetizers:[{name:"",description:"",count:2},{name:"",description:"",count:1}],mains:[{name:"",description:"",count:2},{name:"",description:"",count:1}],dessert:[{name:"",description:"",count:2},{name:"",description:"",count:1}],drinks:["Red Wine","White Wine","Beer"]}},options:[{value:"Asian",label:"Asian"},{value:"Italian",label:"Italian"},{value:"BBQ",label:"BBQ"},{value:"Vegitarian",label:"Vegitarian"},{value:"American",label:"American"},{value:"Other",label:"Other"}],drinks:[{value:"wine",label:"Wine"},{value:"beer",label:"Beer"},{value:"cocktails",label:"Cocktails"},{value:"soft drinks",label:"Soft Drinks"}]}},components:{ImgPreview:hs},computed:{mealToEdit:function(){return JSON.parse(JSON.stringify(this.currMeal))},currUser:function(){return this.$store.getters.loggedinUser}},created:function(){var e,t;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:if(e=this.$route.params._id,e){s.next=3;break}return s.abrupt("return");case 3:return s.next=5,regeneratorRuntime.awrap(this.$store.dispatch({type:"getById",routeParamsId:e}));case 5:t=s.sent,this.currMeal=t;case 7:case"end":return s.stop()}}),null,this)},methods:{save:function(){var e,t;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return this.address=this.currMeal.location.country+" "+this.currMeal.location.city+" "+this.address,s.next=3,regeneratorRuntime.awrap(Lt.axiosNoCredentials("https://maps.googleapis.com/maps/api/geocode/json?address=".concat(this.address,"&key=AIzaSyAIf_SiIrDkiwPumk-JVkjC52m7Htv3m8w")));case 3:return e=s.sent,this.currMeal.location.lat=e.data.results[0].geometry.location.lat,this.currMeal.location.lng=e.data.results[0].geometry.location.lng,this.currMeal.ownerId.id=this.currUser._id,t=this.currMeal,s.next=10,regeneratorRuntime.awrap(this.$store.dispatch({type:"editMeal",currMeal:t}));case 10:this.$router.push("/meal");case 11:case"end":return s.stop()}}),null,this)},add:function(){var e,t;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return this.address=this.currMeal.location.country+" "+this.currMeal.location.city+" "+this.address,s.next=3,regeneratorRuntime.awrap(Lt.axiosNoCredentials("https://maps.googleapis.com/maps/api/geocode/json?address=".concat(this.address,"&key=AIzaSyAIf_SiIrDkiwPumk-JVkjC52m7Htv3m8w")));case 3:return e=s.sent,this.currMeal.location.lat=e.data.results[0].geometry.location.lat,this.currMeal.location.lng=e.data.results[0].geometry.location.lng,this.currMeal.ownerId.id=this.currUser._id,t=this.currMeal,s.next=10,regeneratorRuntime.awrap(this.$store.dispatch({type:"addMeal",currMeal:t}));case 10:this.$router.push("/meal"),this.currMeal={};case 12:case"end":return s.stop()}}),null,this)},uploadImg:function(){var e=this;d.uploadImg(event).then((function(t){e.currMeal.imgUrl<7&&e.currMeal.imgUrl.push(t.secure_url)}))},removeImg:function(e){var t=this.currMeal.imgUrl.findIndex((function(t){return t==e}));this.currMeal.imgUrl.splice(t,1)}}},gs=vs,fs=Object(h["a"])(gs,os,ls,!1,null,null,null),_s=fs.exports,ws=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.user?s("section",{staticClass:"userAccount flex"},[s("section",{staticClass:"userProfile flex"},[s("h1",[e._v("Hi, "+e._s(e.user.fullname))]),s("div",{staticClass:"imgUser"},[s("el-avatar",{attrs:{size:200,src:e.user.imgUrl}})],1),s("section",{staticClass:"userDetails flex"},[s("span",[e._v("Name:")]),s("el-input",{staticClass:"mainUserDetails",model:{value:e.user.fullname,callback:function(t){e.$set(e.user,"fullname",t)},expression:"user.fullname"}}),s("span",[e._v("Email:")]),s("el-input",{staticClass:"mainUserDetails",model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),s("span",[e._v("Country:")]),e.user.location.country?s("el-input",{staticClass:"mainUserDetails",model:{value:e.user.location.country,callback:function(t){e.$set(e.user.location,"country",t)},expression:"user.location.country"}}):e._e(),s("span",[e._v("City:")]),e.user.location.city?s("el-input",{staticClass:"mainUserDetails",model:{value:e.user.location.city,callback:function(t){e.$set(e.user.location,"city",t)},expression:"user.location.city"}}):e._e(),s("span",[e._v("Gender:")]),s("el-input",{staticClass:"mainUserDetails",model:{value:e.user.gender,callback:function(t){e.$set(e.user,"gender",t)},expression:"user.gender"}}),s("span",[e._v("BirthDay:")]),s("el-input",{staticClass:"mainUserDetails",model:{value:e.birthDaya,callback:function(t){e.birthDaya=t},expression:"birthDaya"}}),s("div",{staticClass:"flex"},[s("el-button",{attrs:{type:"info"},on:{click:e.OnYourEvent}},[e._v("your events")]),s("el-button",{attrs:{type:"info",plain:""},on:{click:e.OnGoingEvent}},[e._v("Bookd events")])],1)],1)]),s("section",{staticClass:"userMeals"},[e.meals.length>0&&e.createdEvent?s("section",[e.meals?s("h2",[e._v("My Events")]):e._e(),e._l(e.meals,(function(t,r){return s("div",{key:r},[s("div",{staticClass:"myMeal flex"},[t.imgUrl?s("img",{staticClass:"img-profile-list",attrs:{src:t.imgUrl[0]}}):e._e(),s("div",{staticClass:"flex column justify-center"},[s("div",{staticClass:"test"},[s("h4",[e._v(e._s(t.title))])]),s("div",{staticClass:"controlBtn"},[s("router-link",{attrs:{to:"/details/"+t._id}},[s("el-button",{staticClass:"events-profile-btn",attrs:{type:"danger"}},[e._v("DETAILS")])],1),s("router-link",{attrs:{to:"/edit/"+t._id}},[s("el-button",{staticClass:"cards-btns events-profile-btn",attrs:{type:"danger"}},[e._v("EDIT")])],1),s("el-button",{staticClass:"events-profile-btn",attrs:{type:"danger"},on:{click:function(s){return e.removeMeal(t._id)}}},[e._v("DELETE")])],1)])]),s("hr")])}))],2):e._e(),e.goingEvents?s("div",[e.user.meals?s("h2",[e._v("My Booking Meals")]):e._e(),e._l(e.userMeals,(function(t,r){return s("div",{key:r},[s("div",{staticClass:"bookedMeals"},[s("router-link",{staticClass:"routerToDetails",attrs:{to:"/details/"+t.id}},[t.img?s("img",{staticClass:"img-profile-list2",attrs:{src:t.img}}):e._e()]),s("h4",[e._v(e._s(t.name))])],1),s("hr")])}))],2):e._e()])]):e._e()},ys=[],Cs={data:function(){return{birthDaya:"20/06/1990",createdEvent:!0,goingEvents:!1,user:{location:{country:null,city:null}}}},computed:{meals:function(){return this.$store.commit("userMeals",{userId:this.user._id}),console.log(this.$store.getters.userMeals),this.$store.getters.userMeals},editURL:function(){return"/edit/".concat(this.meal._id)},userMeals:function(){return this.user.meals},birthDay:function(){var e=new Date(+this.meal.atDate)+"";return e=e.substring(3,10),e}},methods:{removeMeal:function(e){this.$store.dispatch({type:"removeMeal",mealId:e})},OnYourEvent:function(){this.createdEvent=!0,this.goingEvents=!1},OnGoingEvent:function(){this.createdEvent=!1,this.goingEvents=!0}},created:function(){var e,t;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return e=this.$route.params._id,s.next=3,regeneratorRuntime.awrap(Gt.getById(e));case 3:t=s.sent,this.user=t;case 5:case"end":return s.stop()}}),null,this)}},bs=Cs,Ms=Object(h["a"])(bs,ws,ys,!1,null,null,null),xs=Ms.exports,ks=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Is=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"about"},[s("h1",[e._v("Bringing people together through food")]),s("p",[e._v("Meet&Eat is the world's largest community for authentic culinary experiences with locals, available in over 130 countries. We connect people who are seeking unique and immersive experiences with our hand-selected local hosts, in private homes and exclusive venues. With Meet&Eat, you're invited to pull up a seat at dinner party in an elegant Paris home, enjoy an Italian feast with a Roman family, take a cooking class in Tokyo, or marvel at the Manhattan skyline over a rooftop brunch. From home-cooks and food lovers to MasterChefs and Michelin-starred chefs, our hosts all share one special ingredient: a passion for bringing people together through food.")])])}],Os={},$s=Object(h["a"])(Os,ks,Is,!1,null,null,null),Rs=$s.exports;r["default"].use(N["a"]);var Ss=[{path:"/",name:"home",component:me},{path:"/about",name:"about",component:Rs},{path:"/meal",name:"mealApp",component:je},{path:"/details/:_id?",name:"mealdetails",component:is},{path:"/edit/:_id?",name:"meal-edit",component:_s},{path:"/add",component:_s},{path:"/user/:_id?",name:"user-details",component:xs}],Ds=new N["a"]({routes:Ss}),Us=Ds,Es=s("5c96"),js=s.n(Es),Ts=(s("0fae"),s("b2d6")),Ps=s.n(Ts),As=(s("5298"),s("755e"));r["default"].use(js.a,{locale:Ps.a}),r["default"].config.productionTip=!1;var Ls=s("5299");r["default"].use(Ls),r["default"].use(As,{load:{key:"AIzaSyDShd0E0PHGAI1El-o8JujHdEFicPQiSC4",libraries:"places"}}),new r["default"]({router:Us,store:jt,render:function(e){return e(z)}}).$mount("#app")},"5c13":function(e,t){},"760c":function(e,t,s){"use strict";var r=s("c3f5"),a=s.n(r);a.a},"7c04":function(e,t,s){e.exports=s.p+"img/logo.6762543a.png"},c3f5:function(e,t,s){},f19c:function(e,t,s){e.exports=s.p+"img/logo-white.93f9c925.png"}});
//# sourceMappingURL=app.38b5d4ff.js.map